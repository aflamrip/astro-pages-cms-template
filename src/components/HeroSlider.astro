---
import { getCollection } from 'astro:content';

const movies = await getCollection('movies', ({ data }) => data.year >= 2024);
const featured = movies.slice(0, 5);
---

<div class="hero-slider">
  {featured.map((movie) => (
    <div class="slide" style={`background-image: url('${movie.data.poster}')`}>
      <div class="slide-content">
        <h2>{movie.data.title}</h2>
        <p>{movie.data.description.substring(0, 150)}...</p>
        <a href={`/movie/${movie.slug}/`} class="watch-btn">مشاهدة الآن</a>
      </div>
    </div>
  ))}
</div>

<style>
  .hero-slider { height: 500px; position: relative; overflow: hidden; }
  .slide { position: absolute; width: 100%; height: 100%; background-size: cover; }
  .slide-content { position: absolute; bottom: 50px; right: 50px; color: white; text-align: right; }
  .watch-btn { background: #e74c3c; padding: 12px 24px; color: white; text-decoration: none; border-radius: 5px; }
</style>
